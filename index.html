<!DOCTYPE html>

<head>
  <meta charset="UTF-8" />
  <title>网页设计基础课索引</title>
  <link rel="stylesheet" href="css/main.css" type="text/css">
  <script>
    var classTotal = 7
    var GithubRepo = "/WebClass202409"
    var LocalRepo = "/space/202311590150"
    function getGithubLink() {
      if (String(document.getElementById("classgroup").getAttribute("isLocal")) === "Remote")
      {
        console.info("All links has been replaced to Github.\n当前登录方式已设置为：Github")
        alert("All links has been replaced to Github.\n当前登录方式已设置为：Github")
      }
      else {
        document.getElementById("classgroup").setAttribute("isLocal", "Remote")
        document.getElementById("classgroupView").innerHTML = "Github"
        for (i = 1; i <= classTotal; i++) {
          if (i < 10) {
            var textID = "class0" + String(i)

          }
          else var textID = "class" + String(i)
          console.info("Replacing " + textID)
          var baseURL = document.getElementById(textID).getAttribute("href")
          console.info("baseURL:" + baseURL)
          document.getElementById(textID).setAttribute("href", GithubRepo + baseURL)
          document.getElementById(textID).setAttribute("value", 1)
          console.info("updatedURL:" + GithubRepo + baseURL)
        }
      }
    }
    function getLocalLink() {
      if (String(document.getElementById("classgroup").getAttribute("isLocal")) === "Local")
      {
        console.info("All links has been replaced to Local Server.\n当前登录方式已设置为：本地模式")
        alert("All links has been replaced to Local Server.\n当前登录方式已设置为：本地模式")
      }
      else {
        for (i = 1; i <= classTotal; i++) {
          if (i < 10) {
            var textID = "class0" + String(i)
          }
          else var textID = "class" + String(i)
          console.info("Replacing " + textID)
          var baseURL = document.getElementById(textID).getAttribute("href")
          console.info("baseURL:" + baseURL)
          console.info("length of baseurl is " + baseURL.length)
          if(String(document.getElementById("classgroup").getAttribute("isLocal")) === "Github")
          {
            document.getElementById(textID).setAttribute("href", baseURL.slice(GithubRepo.length, ))
            document.getElementById(textID).setAttribute("value", 0)
            console.info("updatedURL:" + baseURL.slice(GithubRepo.length + 1, - 1))
          } else {
            document.getElementById(textID).setAttribute("href", baseURL.slice(LocalRepo.length, ))
            document.getElementById(textID).setAttribute("value", 0)
            console.info("updatedURL:" + baseURL.slice(LocalRepo.length + 1, - 1))
          }
          
        }
        document.getElementById("classgroup").setAttribute("isLocal", "Local")
        document.getElementById("classgroupView").innerHTML = "本地模式"
      }
    }
    function getSchoolLink() {
      if (String(document.getElementById("classgroup").getAttribute("isLocal")) === "School")
      {
        console.info("All links has been replaced to School Server.\n当前登录方式已设置为：校园网")
        alert("All links has been replaced to School Server.\n当前登录方式已设置为：校园网")
      }
      else {
        document.getElementById("classgroup").setAttribute("isLocal", "School")
        document.getElementById("classgroupView").innerHTML = "校园网"
        for (i = 1; i <= classTotal; i++) {
          if (i < 10) {
            var textID = "class0" + String(i)

          }
          else var textID = "class" + String(i)
          console.info("Replacing " + textID)
          var baseURL = document.getElementById(textID).getAttribute("href")
          console.info("baseURL:" + baseURL)
          document.getElementById(textID).setAttribute("href", LocalRepo + baseURL)
          document.getElementById(textID).setAttribute("value", 1)
          console.info("updatedURL:" + LocalRepo + baseURL)
        }
      }
    }

  </script>
</head>

<body>
  <h1 class="slidein">2024-2025 秋季学期网页设计基础通识课作业索引</h1>
  <p class="slidein">
    23西2 张珅 202311590150
  </p>
  <p>
    <b>主操作区域</b>
  <form>
    请选择登录方式:
    <input type="radio" name="routeradio" value="Ext" id="GithubButton" onclick="getGithubLink()" />Github
    <input type="radio" name="routeradio" value="Int" id="CampusButton" onclick="getSchoolLink()" />校园网
    <input type="radio" name="routeradio" value="Int" id="LocalButton" onclick="getLocalLink()" />本地模式
    当前登录方式为: <b id="classgroupView" isLocal="Local">本地模式</b>
    <br />
    切换登录方式前请务必选择一次“本地模式”再切换！否则会出错！
  </form>
  </p>
  <p id="classgroup" isLocal="Local">
    <b>作业操作区域</b>
    <li><a id="class01" href="/20240912/index.html">2024.09.12 01-第一次课</a></li>
    <li><a id="class02" href="/20240926/index.html">2024.09.26 02-第二次课</a></li>
    <li><a id="class03" href="/20241010/index.html">2024.10.10 03-第三次课</a></li>
    <li><a id="class04" href="/20241017/index.html">2024.10.17 04-第四次课</a></li>
    <li><a id="class05" href="/20241024/index.html">2024.10.24 05-第五次课</a></li>
    <li><a id="class06" href="/20241031/index.html">2024.10.31 06-第六次课</a></li>
    <li><a id="class07" href="/20241107/index.html">2024.11.07 07-结项作业</a></li>
  </p>
</body>